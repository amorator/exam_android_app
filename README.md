# Notes App - Приложение для заметок на Kivy

Мобильное приложение для создания и управления заметками с поддержкой Android-специфичных функций.

## Функциональность

- ✅ **Создание, редактирование и удаление заметок**
- ✅ **Закрепление заметок** (пин-функция)
- ✅ **Множественный выбор заметок** (длинное нажатие)
- ✅ **Управление фонариком** (Android)
- ✅ **Управление яркостью экрана** (Android)
- ✅ **Портретная ориентация** (Android)
- ✅ **Адаптивный интерфейс** для различных разрешений экрана

## Структура проекта

```
kursach_mobile/
├── main.py                 # Главный файл приложения
├── app.py                  # Основной класс приложения
├── screens/                # Экраны приложения
│   ├── __init__.py
│   ├── welcome_screen.py   # Стартовое окно
│   ├── main_screen.py      # Главное окно с заметками
│   ├── edit_screen.py      # Окно редактирования
│   └── about_screen.py     # Окно об авторе
├── utils/                  # Утилиты
│   ├── __init__.py
│   ├── data_manager.py     # Управление данными и заметками
│   ├── android_utils.py    # Android-специфичные функции (фонарик, яркость)
│   └── debug_utils.py      # GUI уведомления и отладка
├── requirements.txt        # Зависимости Python
├── buildozer.spec         # Конфигурация Buildozer
└── assets/                # Ресурсы (если нужны)
```

## Установка и запуск

### Для разработки (на компьютере)

1. **Установите Python 3.8+**

2. **Установите зависимости:**
   ```bash
   pip install -r requirements.txt
   ```

3. **Запустите приложение:**
   ```bash
   python main.py
   ```

### Для Android

1. **Установите Buildozer:**
   ```bash
   pip install buildozer
   ```

2. **Соберите APK:**
   ```bash
   buildozer android debug
   ```

3. **Установите APK на устройство:**
   ```bash
   buildozer android debug deploy
   ```

## Использование

### Основные функции

1. **Создание заметки:**
   - Нажмите кнопку "+ Добавить" в верхней панели
   - Введите заголовок и содержимое заметки
   - Нажмите "ОК" для сохранения

2. **Редактирование заметки:**
   - Нажмите на заметку в списке для редактирования
   - Внесите изменения
   - Нажмите "ОК" для сохранения

3. **Удаление заметок:**
   - **Одна заметка:** Длинное нажатие на заметку → выберите → нажмите "Удалить"
   - **Несколько заметок:** Длинное нажатие на первую заметку → выберите остальные → нажмите "Удалить"

4. **Закрепление заметок:**
   - В режиме выделения нажмите "Закрепить" или "Открепить"
   - Закрепленные заметки отображаются вверху списка

5. **Фонарик и яркость (Android):**
   - Нажмите кнопку "Фонарик" в верхней панели
   - Нажмите кнопку "Яркость" для переключения максимальной/исходной яркости

6. **Настройки:**
   - При первом запуске появится стартовое окно
   - Поставьте галочку "Больше не показывать это окно снова" для отключения

### Хранение данных

- **Заметки:** Сохраняются в файле `notes.json`
- **Настройки:** Сохраняются в файле `settings.json`
- **Файлы создаются автоматически** при первом запуске

## Технические детали

### Архитектура
- **MVC паттерн** с разделением на экраны
- **Локальное хранение данных** в JSON файлах
- **Обработка длинных нажатий** для выбора элементов
- **Адаптивный дизайн** для различных размеров экранов

### Зависимости
- **Python 3.8+**
- **Kivy 2.1.0+** - GUI фреймворк
- **Plyer 2.1.0+** - доступ к функциям Android
- **Pyjnius** - прямой доступ к Android API
- **Buildozer 1.5.0** - сборка APK

### Android разрешения
- **CAMERA** - для доступа к фонарику
- **FLASHLIGHT** - управление фонариком
- **WRITE_EXTERNAL_STORAGE** - сохранение данных
- **READ_EXTERNAL_STORAGE** - чтение данных
- **WRITE_SETTINGS** - изменение системных настроек (для яркости)

## Разработка

### Добавление новых функций

1. **Новый экран:**
   - Создайте файл в папке `screens/`
   - Наследуйтесь от `Screen`
   - Добавьте в `app.py`

2. **Новые данные:**
   - Расширьте `DataManager` в `utils/data_manager.py`
   - Добавьте методы сохранения/загрузки

3. **Android функции:**
   - Добавьте в `utils/android_utils.py`
   - Используйте библиотеку `plyer`

### Отладка

- Логи сохраняются в файл (на Android)
- Используйте `Logger.info()` для отладки
- Проверьте консоль при запуске на компьютере

## Сборка для Android

### Требования
- **Python 3.8+**
- **Java JDK 17**
- **Android SDK** (управляется Buildozer)
- **Android NDK r25b** (управляется Buildozer)

### Автоматическая сборка

```bash
# Сборка с автоматической настройкой
./build_android.sh

# Сброс настроек приложения перед сборкой
./build_android.sh --reset
```

### Ручная сборка

```bash
# Очистка и сборка
buildozer android clean
buildozer android debug -v
```

### Настройка buildozer.spec

Основные параметры в `buildozer.spec`:
- `title` - название приложения
- `package.name` - имя пакета
- `version` - версия
- `requirements` - зависимости Python
- `android.permissions` - разрешения Android
- `android.ndk` - версия NDK (25b)
- `android.api` - целевая API (30)
- `android.minapi` - минимальная API (21)

## Автор

**Экзаменационный проект**
- Автор: @amorator
- Группа: ИТС-12
- Университет: ВГТУ
- Год: 2025

## Лицензия

Этот проект создан в учебных целях.
